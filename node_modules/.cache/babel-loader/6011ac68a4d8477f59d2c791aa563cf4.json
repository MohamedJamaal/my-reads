{"ast":null,"code":"var _jsxFileName = \"G:\\\\EgyFWD\\\\nd0191-c1-myreads-main\\\\nd0191-c1-myreads-main\\\\starter\\\\src\\\\components\\\\SearchPages.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as BooksAPI from '../BooksAPI';\nimport Book from './Book';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SearchPages(props) {\n  _s();\n\n  const [query, setQuery] = useState('');\n  const [newBooks, setNewBooks] = useState([]);\n  const [searchErr, setSearchErr] = useState(false);\n  const {\n    books,\n    selectShelf\n  } = props;\n\n  const getBooks = e => {\n    const query = e.target.value;\n\n    if (query === '') {\n      setSearchErr({\n        searchErr: true\n      });\n    }\n\n    setQuery({\n      query: query\n    });\n\n    if (query) {\n      BooksAPI.search(query).then(books => {\n        books.length > 0 ? setNewBooks({\n          newBooks: books,\n          searchErr: false\n        }) : setNewBooks({\n          newBooks: [],\n          searchErr: true\n        });\n      });\n    } else setNewBooks({\n      newBooks: [],\n      searchErr: true\n    });\n  }; // this.setState({ query: query })\n  // if(query ==='') {\n  //   this.setState({ resultBooks: [] })\n  // }\n  //   if (query.length > 0) {\n  //     BooksAPI.search(query).then((results) => {\n  //       if(results.length > 0) {\n  //         const resultBooks = results.map((book) => {\n  //           library.forEach(function(el) {\n  //             if (el.id === book.id){\n  //               book.shelf = el.shelf\n  //             }\n  //             else{\n  //               book.shelf = 'none';\n  //             }\n  //           })\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-books-bar\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      className: \"close-search\",\n      to: \"/\",\n      children: \"Close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search by Title, Author or ISBN\",\n      value: query,\n      onChange: getBooks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\",\n      children: [newBooks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-results\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Search Returned \", newBooks.length, \" Books\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          children: newBooks.map(book => /*#__PURE__*/_jsxDEV(Book, {\n            book: book,\n            books: books,\n            selectShelf: selectShelf\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), searchErr && /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Search did NOT return any Books. Please try again !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchPages, \"wG+P9KMRfNYIBOkbaYoivm0QE0Q=\");\n\n_c = SearchPages;\nSearchPages.propTypes = {\n  books: PropTypes.array.isRequired,\n  selectShelf: PropTypes.func.isRequired\n};\nexport default SearchPages;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPages\");","map":{"version":3,"names":["React","useState","Link","BooksAPI","Book","PropTypes","SearchPages","props","query","setQuery","newBooks","setNewBooks","searchErr","setSearchErr","books","selectShelf","getBooks","e","target","value","search","then","length","map","book","id","propTypes","array","isRequired","func"],"sources":["G:/EgyFWD/nd0191-c1-myreads-main/nd0191-c1-myreads-main/starter/src/components/SearchPages.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as BooksAPI from '../BooksAPI';\r\nimport Book from './Book';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction SearchPages(props) {\r\n  const [query, setQuery] = useState('');\r\n  const [newBooks, setNewBooks] = useState([]);\r\n  const [searchErr, setSearchErr] = useState(false);\r\n\r\n  const { books, selectShelf } = props;\r\n\r\n  const getBooks = (e) => {\r\n    const query = e.target.value;\r\n    if (query === '') {\r\n      setSearchErr({ searchErr: true });\r\n    }\r\n    setQuery({ query: query });\r\n    if (query) {\r\n      BooksAPI.search(query).then((books) => {\r\n        books.length > 0\r\n          ? setNewBooks({ newBooks: books, searchErr: false })\r\n          : setNewBooks({ newBooks: [], searchErr: true });\r\n      });\r\n    } else setNewBooks({ newBooks: [], searchErr: true });\r\n  };\r\n\r\n  // this.setState({ query: query })\r\n  // if(query ==='') {\r\n  //   this.setState({ resultBooks: [] })\r\n  // }\r\n  //   if (query.length > 0) {\r\n\r\n  //     BooksAPI.search(query).then((results) => {\r\n  //       if(results.length > 0) {\r\n  //         const resultBooks = results.map((book) => {\r\n  //           library.forEach(function(el) {\r\n  //             if (el.id === book.id){\r\n  //               book.shelf = el.shelf\r\n\r\n  //             }\r\n  //             else{\r\n  //               book.shelf = 'none';\r\n  //             }\r\n  //           })\r\n\r\n  return (\r\n    <div className=\"search-books-bar\">\r\n      <Link className=\"close-search\" to=\"/\">\r\n        Close\r\n      </Link>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search by Title, Author or ISBN\"\r\n        value={query}\r\n        onChange={getBooks}\r\n      />\r\n      <div className=\"\">\r\n        {newBooks.length > 0 && (\r\n          <div className=\"search-books-results\">\r\n            <h3>Search Returned {newBooks.length} Books</h3>\r\n            <ol>\r\n              {newBooks.map((book) => (\r\n                <Book\r\n                  book={book}\r\n                  books={books}\r\n                  key={book.id}\r\n                  selectShelf={selectShelf}\r\n                />\r\n              ))}\r\n            </ol>\r\n          </div>\r\n        )}\r\n        {searchErr && (\r\n          <h3>Search did NOT return any Books. Please try again !</h3>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchPages.propTypes = {\r\n  books: PropTypes.array.isRequired,\r\n  selectShelf: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchPages;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}